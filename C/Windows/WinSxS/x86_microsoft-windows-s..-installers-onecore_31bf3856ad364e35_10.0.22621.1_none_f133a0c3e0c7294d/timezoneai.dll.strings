!This program cannot be run in DOS mode.
RichC
.text
`.data
.idata
@.rsrc
@.reloc
+TimezoneAI
TimeZone Advanced Installer
TimezoneAI::BasicInstaller::Install()
TimezoneAI::BasicInstaller::Uninstall()
onecore\base\wcp\plugins\timezoneai\dll\timezoneai.cpp
Windows::WCP::TimezoneAI::BasicInstaller::_InstallUninstall
Not-null check failed: Success
TimezoneResourceAI::BasicInstaller::Install()
TimezoneResourceAI::BasicInstaller::Uninstall()
Windows::WCP::TimezoneResourceAI::BasicInstaller::_InstallUninstall
DoOfflineAI(Services, Success)
_dstoff
MUI_Std
MUI_Dlt
Display
MUI_Display
SOFTWARE\Microsoft\Windows NT\CurrentVersion\Time Zones
StandardName
DaylightName
SeSystemtimePrivilege
SeTimeZonePrivilege
user32.dll
BroadcastSystemMessageW
ntdll.dll
RtlPublishWnfStateData
NTSTATUS
RtlPublishWnfStateData returned with result:{NTSTATUS}
\Registry\Machine\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Time Zones
@tzres.dll,-
\Registry\Machine\System\CurrentControlSet\Control\TimeZoneInformation
TimeZoneKeyName
DynamicDaylightTimeDisabled
\Registry\Machine\System\CurrentControlSet
Control\Nls\Language
InstallLanguage
InstallLanguageFallback
Control\MUI\Settings
PreferredUILanguages
Control\MUI\Settings\LanguageConfiguration
DefaultFallback
onecore\base\wcp\plugins\timezoneai\dll\offlineai.cpp
GetRegistryString
hkey->OpenExistingKey( Flags, ((((0x00020000L)) | (0x0001) | (0x0008) | (0x0010)) & (~(0x00100000L))), ObjAttr, &hkeyChild, &Disposition)
$(runtime.windows)\system32\%s\tzres.dll.mui
LoadTzResDllMui
sil->OpenRegistryKey(0, ((((0x00020000L)) | (0x0001) | (0x0008) | (0x0010)) & (~(0x00100000L))), sc_lus_CurrentControl, &hkeyCurrentControlSet, 0)
Control\MUI\UILanguages\%s
\Registry\Machine\System\CurrentControlSet\Control\MUI\UILanguages
hkeyUILanguages->EnumerateKeys(0, &UILanguagesIterator)
UILanguagesIterator->Next(Windows::MakeVector(KeyInfos), &cFetched)
UpdateValueIfNecessary
hkeyTZ->QueryValue( Windows::Rtl::IRtlKey::QueryValueFlags::ValueMissingIsOk, lusMuiValueName, KeyValuePartialInformation, &lbMuiString, &DispositionMui)
hkeyTZ->QueryValue( Windows::Rtl::IRtlKey::QueryValueFlags::ValueMissingIsOk, lusLegacyValueName, KeyValuePartialInformation, &lbLegacyString, &DispositionLegacy)
hkeyTZ->SetValue( 0, lusLegacyValueName, ( 1ul ), szMuiString, (cchString + 1) * sizeof(WCHAR), 0)
UpdateTimeZone
UpdateValueIfNecessary(hkeyTZ, sc_STR_MUI_Display, sc_STR_LEGACY_Display)
UpdateValueIfNecessary(hkeyTZ, sc_STR_MUI_Dlt, sc_STR_LEGACY_Dlt)
UpdateValueIfNecessary(hkeyTZ, sc_STR_MUI_Std, sc_STR_LEGACY_Std)
EnumAndUpdateTimeZones
sil->OpenRegistryKey( 0, ((((0x00020000L)) | (0x0001) | (0x0008) | (0x0010)) & (~(0x00100000L))) | ((((0x00020000L)) | (0x0002) | (0x0004)) & (~(0x00100000L))), sc_STR_TimeZonesRoot, &hkeyTimezones, 0)
hkeyTimezones->EnumerateKeys( 0, &TimeZoneIterator)
TimeZoneIterator->Next(Windows::MakeVector(KeyInfos), &cFetched)
hkeyTimezones->OpenExistingKey( 0, ((((0x00020000L)) | (0x0001) | (0x0008) | (0x0010)) & (~(0x00100000L))) | ((((0x00020000L)) | (0x0002) | (0x0004)) & (~(0x00100000L))), ObjAttr, &TimeZoneKey, &Disposition)
UpdateTimeZone(TimeZoneKey)
UpdateCurrentTimezoneNames
sil->OpenRegistryKey(0, ((((0x00020000L)) | (0x0001) | (0x0008) | (0x0010)) & (~(0x00100000L))), sc_STR_TimeZonesRoot, &hkeyTimezones, 0)
hkeyTimeZoneInformation->SetValue(0, sc_STR_StandardName, ( 1ul ), szMUI_Std, (wcslen(szMUI_Std)+1) * sizeof(WCHAR), 0)
hkeyTimeZoneInformation->SetValue(0, sc_STR_DaylightName, ( 1ul ), szMUI_Std, (wcslen(szMUI_Std)+1) * sizeof(WCHAR), 0)
hkeyTimeZoneInformation->SetValue(0, sc_STR_DaylightName, ( 1ul ), szMUI_Dlt, (wcslen(szMUI_Dlt)+1) * sizeof(WCHAR), 0)
DoOfflineAI
status
SYSTEM\CurrentControlSet\Control\TimeZoneInformation
kernelbase.dll
GetPersistedRegistryLocationW
TimeZoneInformationSettings
IsObsolete
IsCustom
FirstEntry
LastEntry
Dynamic DST
\tzres.dll
@tzres.dll,
sr-Latn-CS
sr-SP-Latn
sr-Cyrl-CS
sr-SP-Cyrl
sr-Latn-BA
sr-BA-Latn
sr-Cyrl-BA
sr-BA-Cyrl
iu-Latn-CA
iu-CA-Latn
bs-Cyrl-BA
bs-BA-Cyrl
bs-Latn-BA
bs-BA-Latn
zh-Hant
zh-CHT
zh-Hans
zh-CHS
%s\%s\%s.mui
%s\%s.mui
.\%s\%s.mui
.\%s.mui
%s\%s
timezoneai.pdb
.rdata$brc
.CRT$XCA
.CRT$XCZ
.CRT$XIA
.CRT$XIAA
.CRT$XIZ
.gfids
.giats
.rdata
.rdata$sxdata
.rdata$voltmd
.rdata$zzzdbg
.text$mn
.xdata$x
.edata
.data$brc
.data
.idata$5
.00cfg
.idata$2
.idata$3
.idata$4
.idata$6
.rsrc$01
.rsrc$02
!j,Sj
1f;2u f
ISj@[
FXPWh
y1Vh$%
j Phd
j PhL
sKVj 
j Ph|
>w+j@
y@Vh$%
y1Vh$%
y@Vh$%
j _WPh
yKVh$%
y.Vh$%
AT;BT
j j V
j j V
SVWj@
tNSSSj
t4SSSj
Y__^[
timezoneai.DLL
DllCanUnloadNow
DllCsiGetHandler
_wcsicmp
swprintf_s
wcstoul
_wcsnicmp
_wtoi
_purecall
malloc
_callnewh
_XcptFilter
_amsg_exit
_initterm
msvcrt.dll
_except_handler4_common
OpenProcessToken
GetCurrentProcess
GetLastError
LookupPrivilegeValueW
AdjustTokenPrivileges
CloseHandle
RegGetValueW
RegSetValueExW
RegOpenKeyExW
GetLocalTime
RegCloseKey
GetDynamicTimeZoneInformation
CompareStringW
SetDynamicTimeZoneInformation
HeapSetInformation
LoadLibraryExW
GetProcAddress
FreeLibrary
SetLastError
LCIDToLocaleName
LoadStringW
DisableThreadLibraryCalls
DeleteCriticalSection
InitializeCriticalSection
HeapDestroy
Sleep
UnhandledExceptionFilter
SetUnhandledExceptionFilter
TerminateProcess
QueryPerformanceCounter
GetCurrentProcessId
GetCurrentThreadId
GetSystemTimeAsFileTime
GetTickCount
api-ms-win-core-processthreads-l1-1-0.dll
api-ms-win-core-errorhandling-l1-1-0.dll
api-ms-win-security-lsalookup-l2-1-0.dll
api-ms-win-security-base-l1-1-0.dll
api-ms-win-core-handle-l1-1-0.dll
api-ms-win-core-registry-l1-1-0.dll
api-ms-win-core-sysinfo-l1-1-0.dll
api-ms-win-core-timezone-l1-1-0.dll
api-ms-win-core-string-l1-1-0.dll
api-ms-win-core-heap-l1-1-0.dll
api-ms-win-core-libraryloader-l1-1-0.dll
api-ms-win-core-localization-obsolete-l1-2-0.dll
api-ms-win-core-synch-l1-1-0.dll
api-ms-win-core-synch-l1-2-0.dll
api-ms-win-core-profile-l1-1-0.dll
?RtlTraceVa@Rtl@WCP@Windows@@YIXKKPAU_RTL_TRACING_FACILITY@123@QBDKPAD@Z
ConvertNtStatusToHResult
RtlReportErrorOrigination
?RtlTraceFormat_PCNTSTATUS@Rtl@WCP@Windows@@YIXPAUIRtlFormattedOutputStream@13@PBX@Z
RtlInitLUnicodeStringFromNullTerminatedString
ConvertHResultToNtStatus
RtlFreeLBlob
?RtlGetFacilityTracingFlags@Rtl@WCP@Windows@@YIKPAU_RTL_TRACING_FACILITY@123@@Z
WCP.dll
_itow_s
wcschr
RegQueryValueExW
EnterCriticalSection
LeaveCriticalSection
GetTimeZoneInformation
RegEnumKeyExW
GetSystemDirectoryW
LockResource
FindResourceExW
LoadResource
api-ms-win-core-file-l1-1-0.dll
api-ms-win-core-localization-l1-2-0.dll
_vsnwprintf
SearchPathW
GetLocaleInfoEx
CreateFileW
GetVersionExW
UnmapViewOfFile
CreateFileMappingW
MapViewOfFile
api-ms-win-core-processenvironment-l1-1-0.dll
api-ms-win-core-memory-l1-1-0.dll
memcmp
memcpy
memset
VS_VERSION_INFO
StringFileInfo
040904B0
CompanyName
Microsoft Corporation
FileDescription
Timezone Advanced Installer plug-in
FileVersion
10.0.22621.1 (WinBuild.160101.0800)
InternalName
timezoneai.dll
LegalCopyright
 Microsoft Corporation. All rights reserved.
OriginalFilename
timezoneai.dll
ProductName
Microsoft
 Windows
 Operating System
ProductVersion
10.0.22621.1
VarFileInfo
Translation
0 0$0(0,0004080<0@0D0H0T0`0l0x0
1 1,181<1T1X1\1`1d1h1l1p1t1x1|1
2 2$2d2h2p2x2
<B<i<n<
<&=.=<=H=y=~=
=/>5>A>Q>X>
?:?D?l?
0(0B0K0s0
2(2:2`2z2
3%353W3@4e4
465A5
8(8.898@8a8j8s8y8
9(9/9@9V9`9k9q9v9
:/;u;{;
<?<P<f<x<
=?=q=
=5>N>n>
?3?k?p?
'0I0[0a0
1e1y1
2*2:2A2
3 3_3i3~3
5[5q5
6!6G6e6s6
8:8D8R8X8_8
989E9
:F:f:m:
:*;1;A;Q;\;p;v;
<*<j<q<
= =4=D=X=
>'>->8>B>J>X>^>
?!?%?+?5?d?
0"1,1:1H1
2,2I2Z2d2
3!33393@3G3N3l3y3
4P4V4[4b4
5`6o6z6
7+717G7a7s7
878]8
:T:w:}:
:,;7;D;];n;{;
1N1k1
1B2Y2d2q2
2<3H3x3
4*4Z4
6Z6_6}6
9M9h9t9
;w;(<:<s<
="=i=}=
=G>L>Q>~>
? ?&?G?O?V?\?b?
000<0D0
1A2Y2
2@3n3
4!4(4/464=4E4M4U4a4j4o4u4
5!5(5/565=5D5K5Q5]5h5m5r5x5
6"6.6
8"8*898E8b8
9(90949<9@9H9L9T9X9`9d9l9p9x9|9
 b|?b)
Washington1
Redmond1
Microsoft Corporation1.0,
%Microsoft Windows Production PCA 20110
210902182341Z
220901182341Z0p1
Washington1
Redmond1
Microsoft Corporation1
Microsoft Windows0
2y80T
I0G1-0+
$Microsoft Ireland Operations Limited1
229879+4675800
M0K0I
Chttp://www.microsoft.com/pkiops/crl/MicWinProPCA2011_2011-10-19.crl0a
U0S0Q
Ehttp://www.microsoft.com/pkiops/certs/MicWinProPCA2011_2011-10-19.crt0
Et,@8
Zof1G
WaNja
T^r|B
uOi@Y
Washington1
Redmond1
Microsoft Corporation1200
)Microsoft Root Certificate Authority 20100
111019184142Z
261019185142Z0
Washington1
Redmond1
Microsoft Corporation1.0,
%Microsoft Windows Production PCA 20110
O0M0K
Ehttp://crl.microsoft.com/pki/crl/products/MicRooCerAut_2010-06-23.crl0Z
N0L0J
>http://www.microsoft.com/pki/certs/MicRooCerAut_2010-06-23.crt0
TlP0X
R!s4Z
Washington1
Redmond1
Microsoft Corporation1.0,
%Microsoft Windows Production PCA 2011
,NWUZqR1nNIV63hbF84H70XARLJR9uZQvnoX63nAZ9RI=0Z
"Microsoft Window
 http://www.microsoft.com/windows0
20220506221115.214Z0
Washington1
Redmond1
Microsoft Corporation1-0+
$Microsoft Ireland Operations Limited1&0$
Thales TSS ESN:179E-4BB0-82461%0#
Microsoft Time-Stamp Service
Washington1
Redmond1
Microsoft Corporation1&0$
Microsoft Time-Stamp PCA 20100
211028192742Z
230126192742Z0
Washington1
Redmond1
Microsoft Corporation1-0+
$Microsoft Ireland Operations Limited1&0$
Thales TSS ESN:179E-4BB0-82461%0#
Microsoft Time-Stamp Service0
;DdxYo
j"d6A
N kJ~@(
LbZz:
X0V0T
Nhttp://www.microsoft.com/pkiops/crl/Microsoft%20Time-Stamp%20PCA%202010(1).crl0l
`0^0\
Phttp://www.microsoft.com/pkiops/certs/Microsoft%20Time-Stamp%20PCA%202010(1).crt0
Washington1
Redmond1
Microsoft Corporation1200
)Microsoft Root Certificate Authority 20100
210930182225Z
300930183225Z0|1
Washington1
Redmond1
Microsoft Corporation1&0$
Microsoft Time-Stamp PCA 20100
q\Q17
&S|9a
!]_0t
U0S0Q
3http://www.microsoft.com/pkiops/Docs/Repository.htm0
O0M0K
Ehttp://crl.microsoft.com/pki/crl/products/MicRooCerAut_2010-06-23.crl0Z
N0L0J
>http://www.microsoft.com/pki/certs/MicRooCerAut_2010-06-23.crt0
>NGdx
fg:SM
xSu$W
as.,k{n?,
J>f;O
!TkjE
Washington1
Redmond1
Microsoft Corporation1-0+
$Microsoft Ireland Operations Limited1&0$
Thales TSS ESN:179E-4BB0-82461%0#
Microsoft Time-Stamp Service
Washington1
Redmond1
Microsoft Corporation1&0$
Microsoft Time-Stamp PCA 20100
20220507042831Z
20220508042831Z0t0:
1,0*0
1(0&0
Vu)f\
Washington1
Redmond1
Microsoft Corporation1&0$
Microsoft Time-Stamp PCA 2010
Washington1
Redmond1
Microsoft Corporation1&0$
Microsoft Time-Stamp PCA 2010
(kE|B
&-P87
H~R*w
U=dv=N
szw?V
GpOU@
